<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Daily Journal — Learniamo</title>
<style>
  body { font-family: Arial, sans-serif; background-color: #cfe2f3; color: black; padding: 20px; max-width: 900px; margin: auto; }
  h1 { text-align: center; }
  .controls { text-align: center; margin-bottom: 20px; }
  button, select { background-color: #cfe2f3; border: none; color: black; padding: 10px 20px; margin: 6px; font-size: 16px; border-radius: 6px; cursor: pointer; }
  button:hover, select:hover { background-color: #b0d1e8; }
  #story { background: white; padding: 20px; border-radius: 8px; white-space: pre-wrap; line-height: 1.5; }
  #title { font-weight: bold; margin-bottom: 10px; }
</style>
</head>
<body>

<h1>Daily Journal — Learniamo</h1>

<div class="controls">
  <!-- Language Buttons -->
  <div>
    <button onclick="setLanguage('it')">Italiano</button>
    <button onclick="setLanguage('en')">English</button>
    <button onclick="setLanguage('fa')">فارسی</button>
    <button onclick="setLanguage('de')">Deutsch</button>
  </div>
  <!-- Story Selector -->
  <div>
    <select id="storySelect" onchange="updateStory()"></select>
  </div>
</div>

<div id="title"></div>
<div id="story"></div>

<script>
let currentLang = 'it'; // default language

const stories = [
  // Story 1: Alfabeto Farfallino
  {
    title: "Alfabeto Farfallino",
    texts: {
      it: `"Alfabeto Farfallino"

L’italiano ha un registro (in via di estinzione) chiamato “Alfabeto Farfallino”, un linguaggio segreto per bambini.
Dopo ogni vocale di una parola si inserisce la sillaba “-ib-”.

Esempi:
“Ciao” diventa “Cibiao”
“Casa” diventa “Cibasa”
“Come stai?” diventa “Cibome stibai?”

È un modo giocoso per i bambini di comunicare in privato.
Mostra la flessibilità e l’adattabilità della lingua italiana.
Anche se il suo uso sta diminuendo, rimane un pezzo di patrimonio linguistico italiano.
`,
      en: `"Alfabeto Farfallino"

Italian has a (dying) register of language called "Alfabeto Farfallino", a secret code language for children.
After every vowel in a word, the syllable "-ib-" is inserted.

Examples:
"Ciao" becomes "Cibiao"
"Casa" becomes "Cibasa"
"Come stai?" becomes "Cibome stibai?"

It's a playful way for kids to communicate privately.
It shows the flexibility and adaptability of the Italian language.
Although declining, it remains a piece of Italian linguistic heritage.
`,
      fa: `"الفبای پروانه‌ای"

زبان ایتالیایی یک زبان مخفی و بازیگوش برای کودکان دارد به نام "الفبای پروانه‌ای".
بعد از هر حرف صدادار در یک کلمه، سیلاب "-یب-" اضافه می‌شود.

مثال‌ها:
"Ciao" می‌شود "Cibiao"
"Casa" می‌شود "Cibasa"
"Come stai?" می‌شود "Cibome stibai?"

این یک روش بازیگوشانه است برای بچه‌ها تا خصوصی با هم حرف بزنند.
نشان‌دهنده انعطاف‌پذیری و سازگاری زبان ایتالیایی است.
`,
      de: `"Alfabeto Farfallino"

Italienisch hat ein (vom Aussterben bedrohtes) Sprachregister namens "Alfabeto Farfallino", eine geheime Kindersprache.
Nach jedem Vokal in einem Wort wird die Silbe "-ib-" eingefügt.

Beispiele:
"Ciao" wird zu "Cibiao"
"Casa" wird zu "Cibasa"
"Come stai?" wird zu "Cibome stibai?"

Es ist eine spielerische Art, wie Kinder privat kommunizieren.
Es zeigt die Flexibilität und Anpassungsfähigkeit der italienischen Sprache.
`
    }
  },

  // Story 2: Nonna Rosa
  {
    title: "Nonna Rosa in Toscana",
    texts: {
      it: `🇮🇹 Italiano

In un piccolo villaggio in Toscana viveva una nonna di nome Rosa, famosa per la sua pasta fatta in casa. Ma Rosa non era solo una cuoca: era anche la “maestra segreta” di italiano per i turisti curiosi. Raccontava loro che in Italia esistono più di 30 dialetti diversi e che la parola “ciao” in realtà deriva dal veneziano “s-ciào”, che significa “sono il tuo servo”. Un giorno arrivò un ragazzo tedesco che voleva imparare l’italiano per capire le canzoni di Andrea Bocelli. Rosa gli spiegò che l’italiano standard deriva soprattutto dal toscano, grazie a scrittori come Dante, Petrarca e Boccaccio. Alla fine della sua vacanza, il ragazzo non solo parlava un po’ di italiano, ma conosceva anche la differenza tra “gnocchi” e “gnocca” — e rideva ogni volta che lo raccontava.
`,
      en: `🇬🇧 English

In a small village in Tuscany lived a grandmother named Rosa, famous for her homemade pasta. But Rosa wasn’t just a cook: she was also the “secret teacher” of Italian for curious tourists. She would tell them that in Italy there are more than 30 different dialects, and that the word “ciao” actually comes from the Venetian “s-ciào,” meaning “I am your servant.” One day, a German boy arrived wanting to learn Italian to understand Andrea Bocelli’s songs. Rosa explained that standard Italian comes mainly from Tuscan, thanks to writers like Dante, Petrarch, and Boccaccio. By the end of his vacation, the boy not only spoke some Italian but also knew the difference between “gnocchi” and “gnocca” — and laughed every time he told the story.
`,
      fa: `🇮🇷 فارسی

در یک روستای کوچک در توسکانی، مادربزگ به نام روزا زندگی می‌کرد که به خاطر پاستای خانگی‌اش مشهور بود. اما روزا فقط یک آشپز نبود؛ او «معلم مخفی» زبان ایتالیایی برای گردشگران کنجکاو هم بود. او برایشان تعریف می‌کرد که در ایتالیا بیش از ۳۰ گویش مختلف وجود دارد و کلمه‌ی «چائو» در واقع از واژه‌ی ونیزی «s-ciào» می‌آید که به معنی «من خدمتگزار تو هستم» است. یک روز پسر آلمانی‌ای آمد که می‌خواست ایتالیایی یاد بگیرد تا بتواند ترانه‌های آندره‌آ بوچلی را بفهمد. روزا برایش توضیح داد که ایتالیایی معیار بیشتر از زبان توسکانی گرفته شده، به لطف نویسندگانی چون دانته، پترارکا و بوکاچو. در پایان تعطیلات، آن پسر نه تنها کمی ایتالیایی صحبت می‌کرد، بلکه فرق بین «گنوکی» و «گنوکا» را هم فهمیده بود — و هر بار که این ماجرا را تعریف می‌کرد با خنده همراه بود.
`,
      de: `🇩🇪 Deutsch

In einem kleinen Dorf in der Toskana lebte eine Großmutter namens Rosa, berühmt für ihre hausgemachte Pasta. Aber Rosa war nicht nur eine Köchin: Sie war auch die „geheime Lehrerin“ für neugierige Touristen. Sie erzählte ihnen, dass es in Italien mehr als 30 verschiedene Dialekte gibt und dass das Wort „ciao“ eigentlich aus dem Venezianischen „s-ciào“ stammt, was „Ich bin dein Diener“ bedeutet. Eines Tages kam ein deutscher Junge, der Italienisch lernen wollte, um die Lieder von Andrea Bocelli zu verstehen. Rosa erklärte ihm, dass das Standarditalienisch hauptsächlich aus dem Toskanischen stammt, dank Schriftstellern wie Dante, Petrarca und Boccaccio. Am Ende seines Urlaubs sprach der Junge nicht nur ein bisschen Italienisch, sondern kannte auch den Unterschied zwischen „Gnocchi“ und „Gnocca“ — und lachte jedes Mal, wenn er die Geschichte erzählte.
`
    }
  },

  // Story 3: La musica dell’italiano
  {
    title: "La musica dell’italiano",
    texts: {
      it: `La musica dell’italiano

Nel bar di una stazione, un ragazzo ascolta i suoni attorno a sé: «Buongiorno», «prego», «scusa». Sembra che ogni parola abbia una piccola melodia. La nonna gli dice: «Le vocali — a, e, i, o, u — tengono per mano le consonanti, così nessuna resta sola». Sul tram, un «permesso» apre spazio come una porta; al mercato, un «grazie» chiude le frasi come un bacio sull’aria. La sera, il ragazzo scrive la sua prima frase in italiano. È semplice, ma canta: «Oggi ho capito che le parole possono suonare».
`,
      en: `The Music of Italian

At a station café, a boy listens to the voices around him: “buongiorno,” “prego,” “scusa.” It feels like every word carries a small melody. His grandmother says, “The vowels — a, e, i, o, u — hold the consonants by the hand so none of them is left alone.” On the tram, a soft “permesso” opens space like a door; at the market, a quiet “grazie” closes sentences like a kiss in the air. That night, the boy writes his first line in Italian. It’s simple, but it sings: “Today I learned that words can make music.”
`,
      fa: `موسیقیِ زبان ایتالیایی

در کافه‌ی ایستگاه، پسری به صداها گوش می‌دهد: «بونجورنو»، «پرِگو»، «سکوزا». انگار هر کلمه ملودی کوچکی دارد. مادربزرگش می‌گوید: «واکه‌ها — a، e، i، o، u — دستِ همخوان‌ها را می‌گیرند تا هیچ‌کدام تنها نمانند.» در تراموا، یک «پرِمِسّو» آرام مثل در، فضا را باز می‌کند؛ در بازار، یک «گراتسیه» آهسته جمله‌ها را مثل بوسه‌ای در هوا می‌بندد. شب، پسر اولین جمله‌اش را به ایتالیایی می‌نویسد. ساده است، اما می‌خوانَد: «امروز فهمیدم کلمات می‌توانند موسیقی بسازند.»
`,
      de: `Die Musik des Italienischen

In einem Bahnhofscafé lauscht ein Junge den Stimmen: „buongiorno“, „prego“, „scusa“. Es wirkt, als trüge jedes Wort eine kleine Melodie. Seine Nonna sagt: „Die Vokale — a, e, i, o, u — halten die Konsonanten an der Hand, damit keiner allein bleibt.“ Auf der Straßenbahn öffnet ein sanftes „permesso“ Raum wie eine Tür; auf dem Markt schließt ein leises „grazie“ Sätze wie ein Kuss in die Luft. Am Abend schreibt der Junge seinen ersten Satz auf Italienisch. Er ist schlicht, doch er singt: „Heute habe ich gelernt, dass Wörter Musik machen können.“
`
    }
  }
];

// UI BUILD
window.onload = function() {
  buildStoryDropdown();
  applyDirection();
  updateStory();
};

function buildStoryDropdown() {
  const select = document.getElementById('storySelect');
  select.innerHTML = "";
  for (let i = stories.length - 1; i >= 0; i--) {
    const option = document.createElement('option');
    option.value = String(i);
    option.textContent = stories[i].title;
    select.appendChild(option);
  }
  select.selectedIndex = 0;
}

function setLanguage(lang) {
  currentLang = lang;
  applyDirection();
  updateStory();
}

function applyDirection() {
  const box = document.getElementById('story');
  if (currentLang === 'fa') { box.setAttribute('dir','rtl'); box.style.textAlign='right'; }
  else { box.setAttribute('dir','ltr'); box.style.textAlign='left'; }
}

function updateStory() {
  const select = document.getElementById('storySelect');
  const idx = parseInt(select.value, 10);
  const storyObj = stories[idx];
  const text = storyObj.texts[currentLang] || "Translation not available.";
  document.getElementById('title').textContent = storyObj.title;
  document.getElementById('story').textContent = text;
}
</script>

</body>
</html>
